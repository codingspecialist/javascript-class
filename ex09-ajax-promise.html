<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<button onclick="test1()">Promise1 Test</button>
<button onclick="test2()">Promise2 Test</button>
<button onclick="test3()">Promise3 Test</button>
<button onclick="test4()">Promise4 Test</button>
<script>
    function test1() {
        console.log('test1 Start');
        new Promise(() => {
            setTimeout(() => {
                console.log("promise 처리완료");
            }, 2000);
        });
        console.log('test1 End');
    }

    async function test2() {
        console.log('test2 Start');
        await new Promise(() => {
            setTimeout(() => {
                console.log("promise 처리완료");
            }, 2000);
        });
        console.log('test2 End');
    } // await 부분을 실행하고 32번 라인으로 빠져나옴.

    async function test3() {
        let num = 1;
        console.log('test3 Start');
        await new Promise((resolve) => {
            setTimeout(() => {
                console.log("promise 처리완료");
                resolve("처리 완료");
            }, 2000);
        });
        console.log('test3 End');
        console.log(num);
    }

    async function test4() {

        console.log('test4 Start');
        await new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log("promise 처리완료");
                reject("처리 실패");
            }, 2000);
        });
        console.log('test4 End');

    } // stack 이 종료되면, 스택 파괴 (데이터 소멸)
</script>
</body>
</html>