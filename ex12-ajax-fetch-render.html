<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .box {
            border: 1px solid black;
            padding: 10px;
        }
    </style>
</head>
<body>
<input type="text" id="num" rrr="100" value="1"/> <button onclick="fetchTodo()">통신하기</button>
<div class="box" id="box">

</div>
<script>
    // https://jsonplaceholder.typicode.com
    // async -> 비동기함수가 되기 위한 키워드
    // await -> Promise가 처리될 때까지 기다리는 키워드
    async function fetchTodo() {
        let el = document.querySelector("#num");
        let id = el.value;
        let rrr = el.getAttribute("rrr");
        console.log("기본속성이 아니면 getAttribute()", rrr);
        try {
            let promiseData = await fetch("https://jsonplaceholder.typicode.com/todos/"+id);
            let todo = await promiseData.json();
            render(todo);
        } catch (err) {
            console.log(err);
        }
    }

    function render(todo){
        let le = document.querySelector("#box");
        le.innerHTML = todo.title;
    }

    /*
    자바스크립트 엔진은 싱글 스레드로 동작하며, 이벤트 루프를 통해 비동기 작업을 처리합니다.
    이벤트 루프는 Call Stack, Message Queue, Event Loop로 구성되어 있습니다.
    Call Stack은 현재 실행 중인 함수를 기록하는 스택이고, Message Queue는 비동기 작업이 완료되었을 때 등록되는 작업 목록입니다.
    Event Loop는 Call Stack과 Message Queue를 주시하면서 Call Stack이 비어있을 때 Message Queue에서 작업을 꺼내와 실행합니다.
     */
</script>
</body>
</html>